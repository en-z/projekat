<div class="container">
  <h2>Unos ocene za predmet ID: {{ predmetId }}</h2>

  <ng-container *ngIf="dozvoljenUnos; else blokirano">
    <form [formGroup]="ocenaForm" (ngSubmit)="submit()" class="dodaj">
      <select formControlName="studentId" required>
        <option value="" disabled selected>Izaberi studenta</option>
        <option *ngFor="let student of studenti" [value]="student.id">
          {{ student.ime }} {{ student.prezime }} (ID: {{ student.id }})
        </option>
      </select>
      <select formControlName="instumentId" required>
        <option value="" disabled selected>Izaberi Instrument</option>
        <option *ngFor="let instrument of instrumenti" [value]="instrument.id">
          {{ instrument.tip}} (ID: {{ instrument.id }})
        </option>
      </select>
      <input type="number" formControlName="bodovi" placeholder="Bodovi" required>

      <button type="submit" [disabled]="ocenaForm.invalid">Unesi ocenu</button>
    </form>
  </ng-container>
    <h3>Učitaj fajl sa ishodima</h3>
    <form (submit)="uploadFile()" enctype="multipart/form-data">
    <input type="file" accepte=".xlm" (change)="onFileSelected($event)" required>
    <button type="submit" [disabled]="!selectedFile">Pošalji fajl</button>
    </form>

  <ng-template #blokirano>
    <p style="color: red;">
      Unos ocena više nije moguc jer je proslo vise od 15 dana od poslednjeg termina ispita.
    </p>
  </ng-template>

  <hr />

  <h3>Uneti ishodi</h3>
  <ul>
    <li *ngFor="let ishod of ishodi">
      <strong>Student ID:</strong> {{ ishod.studentId }} |
      <strong>Ocena:</strong> {{ ishod.ocena }} |
      <strong>Bodovi:</strong> {{ ishod.bodovi }} |
      <strong>Pokušaji:</strong> {{ ishod.brojPokusaja }} |
    </li>
  </ul>
</div>
