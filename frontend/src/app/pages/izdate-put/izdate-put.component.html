<div 
  class="min-h-screen bg-cover bg-center bg-fixed flex flex-col items-center justify-start relative pt-40 px-4"
  style="background-image: url('pozadina.jpg');"
>
  <!-- Grb iznad forme -->
  <div class="absolute top-12 flex justify-center w-full pointer-events-none">
    <img src="slika1.png" alt="Grb" class="w-44 h-auto opacity-40 drop-shadow-2xl">
  </div>

  <!-- Forma -->
  <form [formGroup]="searchForm" (ngSubmit)="pretrazi()" 
        class="bg-white bg-opacity-90 p-4 rounded-xl shadow-xl mt-10 max-w-3xl w-full space-y-6">
    
    <h3 class="text-2xl font-bold text-gray-800 text-center border-b pb-2">Pretraga Zahteva</h3>

    <!-- Korisnik -->
    <fieldset class="border border-gray-300 rounded-lg p-4 space-y-3">
      <legend class="px-2 font-semibold text-lg">Korisnik</legend>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <label class="flex flex-col">
          <span class="text-sm font-medium">User ID Min:</span>
          <input type="number" formControlName="userIdMin" class="border rounded p-2">
        </label>
        <label class="flex flex-col">
          <span class="text-sm font-medium">User ID Max:</span>
          <input type="number" formControlName="userIdMax" class="border rounded p-2">
        </label>
        <label class="flex flex-col">
          <span class="text-sm font-medium">Ime sadrži:</span>
          <input type="text" formControlName="imeContains" class="border rounded p-2">
        </label>
        <label class="flex flex-col">
          <span class="text-sm font-medium">Prezime sadrži:</span>
          <input type="text" formControlName="prezimeContains" class="border rounded p-2">
        </label>
      </div>
    </fieldset>

    <!-- Knjiga -->
    <fieldset class="border border-gray-300 rounded-lg p-4 space-y-3">
      <legend class="px-2 font-semibold text-lg">Knjiga</legend>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <label class="flex flex-col">
          <span class="text-sm font-medium">Naziv sadrži:</span>
          <input type="text" formControlName="knjigaNazivContains" class="border rounded p-2">
        </label>
        <label class="flex flex-col">
          <span class="text-sm font-medium">Kategorija sadrži:</span>
          <input type="text" formControlName="knjigaKategorijaContains" class="border rounded p-2">
        </label>
        <label class="flex flex-col">
          <span class="text-sm font-medium">Opis sadrži:</span>
          <input type="text" formControlName="knjigaOpisContains" class="border rounded p-2">
        </label>
        <label class="flex flex-col">
          <span class="text-sm font-medium">Godina izdavanja Min:</span>
          <input type="number" formControlName="knjigaGodinaIzdavanjaMin" class="border rounded p-2">
        </label>
        <label class="flex flex-col">
          <span class="text-sm font-medium">Godina izdavanja Max:</span>
          <input type="number" formControlName="knjigaGodinaIzdavanjaMax" class="border rounded p-2">
        </label>
        <label class="flex flex-col">
          <span class="text-sm font-medium">Autor sadrži:</span>
          <input type="text" formControlName="knjigaAutorContains" class="border rounded p-2">
        </label>
        <label class="flex flex-col">
          <span class="text-sm font-medium">Količina Min:</span>
          <input type="number" formControlName="knjigaKolicinaMin" class="border rounded p-2">
        </label>
        <label class="flex flex-col">
          <span class="text-sm font-medium">Količina Max:</span>
          <input type="number" formControlName="knjigaKolicinaMax" class="border rounded p-2">
        </label>
      </div>
    </fieldset>

    <div class="text-center">
      <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg shadow">
        Pretraži
      </button>
    </div>
  </form>

  <!-- Rezultati -->
  <div *ngIf="rezultati.length > 0" class="bg-white bg-opacity-90 p-6 rounded-xl shadow-xl mt-8 max-w-2xl w-full">
    <h3 class="text-xl font-bold text-gray-800 border-b pb-2">Rezultati</h3>
    <ul class="divide-y divide-gray-200">
      <li *ngFor="let z of rezultati" 
          (click)="selektuj(z)" 
          [class.bg-blue-100]="selektovani?.id === z.id"
          class="p-2 cursor-pointer hover:bg-blue-50 transition">
        {{ z.ime }} {{ z.prezime }} - {{ z.knjiga.naziv }}
      </li>
    </ul>
  </div>

  <!-- Potvrda -->
  <div *ngIf="selektovani" class="bg-white bg-opacity-90 p-6 rounded-xl shadow-xl mt-8 max-w-2xl w-full space-y-4">
    <h3 class="text-lg font-semibold">
      Potvrdi izdavanje za: {{ selektovani.ime }} {{ selektovani.prezime }} - {{ selektovani.knjiga.naziv }}
    </h3>
    <label class="flex items-center gap-2">
      <input type="checkbox" [(ngModel)]="trajan" />
      <span>Trajan</span>
    </label>

    <div *ngIf="!trajan">
      <label class="flex flex-col">
        <span class="text-sm font-medium">Datum vraćanja:</span>
        <input type="date" [(ngModel)]="datumVracanja" class="border rounded p-2">
      </label>
    </div>

    <button (click)="potvrdiIzdavanje()" 
            class="bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded-lg shadow">
      Potvrdi izdavanje
    </button>
  </div>
</div>
<footer class="w-full bg-gray-900 text-white py-2 text-center border border-transparent">
 Univerzitet © 2025 
</footer>