<div class="min-h-screen bg-cover bg-center bg-fixed flex flex-col items-center justify-start relative p-6"
     style="background-image: url('pozadina.jpg');">

  <!-- Grb -->
  <div class="absolute top-16 flex justify-center w-full pointer-events-none">
    <img src="slika1.png" alt="Grb" class="w-48 h-auto opacity-30 drop-shadow-2xl">
  </div>

  <!-- Glavni kontejner -->
  <div class="w-full max-w-5xl mt-50 bg-white/70 backdrop-blur-lg rounded-3xl shadow-xl border border-gray-200 p-8 flex flex-col gap-8">

    <!-- Naslov sekcije -->
    <h2 class="text-3xl font-bold text-gray-800 text-center">
      Pretraga korisnika po emailu
    </h2>

    <!-- Pretraga -->
    <div class="flex flex-col md:flex-row items-center gap-4 bg-white/80 p-4 rounded-xl shadow-md">
      <label for="email" class="font-medium text-gray-700 w-full md:w-auto">Email:</label>
      <input 
        type="text" 
        id="email" 
        [(ngModel)]="searchEmail"
        class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"
        placeholder="Unesite email"
      />
      <button 
        (click)="searchUsersByEmail()"
        class="px-4 py-2 bg-indigo-600 text-white rounded-lg shadow hover:bg-indigo-700 transition w-full md:w-auto"
      >
        Pretraži
      </button>
    </div>

    <!-- Pronađeni korisnici -->
    <div *ngIf="user.length > 0" class="w-full bg-white/80 p-4 rounded-xl shadow-md">
      <h3 class="text-xl font-semibold mb-4">Pronađeni korisnici:</h3>
      <ul class="space-y-3">
        <li *ngFor="let korisnik of user" class="flex justify-between items-center px-4 py-3 border border-gray-200 rounded-lg hover:bg-indigo-50 transition">
          <span>{{ korisnik.ime }} {{ korisnik.prezime }} ({{ korisnik.email }})</span>
          <button 
            (click)="selectUser(korisnik.id)"
            class="px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
          >
            Prikaži dokumente
          </button>
        </li>
      </ul>
      <div class="mt-4 text-right">
        <button 
          (click)="clearUserFilter()"
          class="px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
        >
          Prikaži sve dokumente
        </button>
      </div>
    </div>

    <hr class="w-full border-gray-300 my-8" />

    <!-- Dokumenti -->
    <h2 class="text-2xl font-semibold text-gray-800 mb-4 text-center">Dokumenti</h2>
    <div class="overflow-x-auto w-full rounded-xl shadow bg-white/90 p-4">
      <table class="min-w-full border-collapse">
        <thead class="bg-indigo-600 text-white rounded-t-xl">
          <tr>
            <th class="px-4 py-2 text-left">Naslov</th>
            <th class="px-4 py-2 text-left">Opis</th>
            <th class="px-4 py-2 text-left">Datum</th>
            <th class="px-4 py-2 text-left">Preuzimanje</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let dokument of dokumenti" class="border-b hover:bg-indigo-50 transition">
            <td class="px-4 py-2">{{ dokument.naslov}}</td>
            <td class="px-4 py-2">{{ dokument.opis }}</td>
            <td class="px-4 py-2">{{ dokument.datum }}</td>
            <td class="px-4 py-2">
              <a 
                [href]="'http://localhost:8080/api/osoblje/dokument/download/' + dokument.id" 
                target="_blank"
                class="text-indigo-600 hover:text-indigo-800 underline"
              >
                Preuzmi
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Navigacija stranica -->
    <div class="flex justify-center items-center gap-4">
      <button 
        (click)="prevPage()" 
        [disabled]="page === 0"
        class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition"
      >
        Prethodna
      </button>
      <span class="font-medium">Strana {{ page + 1 }} / {{ totalPages }}</span>
      <button 
        (click)="nextPage()" 
        [disabled]="page + 1 >= totalPages"
        class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg hover:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed transition"
      >
        Sledeća
      </button>
    </div>

  </div>
</div>
<footer class="w-full bg-gray-900 text-white py-2 text-center border border-transparent">
 Univerzitet © 2025 
</footer>