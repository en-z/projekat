<div 
  class="min-h-screen bg-cover bg-center bg-fixed flex flex-col items-center justify-start relative pt-32"
  style="background-image: url('pozadina.jpg');"
>
  <!-- Grb iznad tabele, centriran -->
  <div class="absolute top-12 flex justify-center w-full pointer-events-none">
    <img src="slika1.png" alt="Grb" class="w-48 h-auto opacity-40 drop-shadow-2xl">
  </div>
  <br>
  <div class="p-6 max-w-5xl w-11/12 mx-auto space-y-8">
   

    <!-- Filter -->
    <div class="flex flex-col md:flex-row items-start md:items-end gap-4 mb-4">
      <div>
        <label for="filterType" class="block text-sm font-medium text-black-700">Filter po:</label>
        <select
          id="filterType"
          [(ngModel)]="selectedFilter"
          class="mt-1 block w-40 border border-gray-500 "
        >
          <option value="ocena">Ocena</option>
          <option value="naziv">Naziv</option>
          <option value="pokusaj">Pokušaj</option>
        </select>
      </div>

      <div class="flex-grow">
        <label for="searchInput" class="block text-sm font-medium text-black-700">Unesite vrednost</label>
        <input
          id="searchInput"
          type="text"
          placeholder="Unesite vrednost za pretragu"
          class="mt-1 block w-full  border-gray-300 shadow-sm "
          (input)="onFilterInput($event)"
        />
      </div>
    </div>

    <!-- Položeni ispiti -->
    <div>
      <h2 class="text-xl font-semibold mb-2">Položeni Ispiti</h2>
      <table class="min-w-full border border-gray-300 rounded-lg shadow-md bg-white">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-4 py-2 border-b border-gray-300">Predmet Naziv</th>
            <th class="px-4 py-2 border-b border-gray-300">Bodovi</th>
            <th class="px-4 py-2 border-b border-gray-300">Ocena</th>
            <th class="px-4 py-2 border-b border-gray-300">ESBP</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ishod of polozeniIspiti" class="hover:bg-gray-50">
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.predmet.naziv }}</td>
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.bodovi }}</td>
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.ocena }}</td>
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.predmet.esbp}}</td>
          </tr>
          <tr>
            <td class="px-4 py-2 font-bold" colspan="4">Ukupno ESBP: {{totalEsbp}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Rezultati pretrage -->
    <div *ngIf="pretragaIspita.length > 0">
      <h2 class="text-xl font-semibold mb-2">Rezultati pretrage ({{ pretragaIspita.length }})</h2>
      <table class="min-w-full border border-gray-300 rounded-lg shadow-md bg-white">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-4 py-2 border-b border-gray-300">Predmet Naziv</th>
            <th class="px-4 py-2 border-b border-gray-300">Bodovi</th>
            <th class="px-4 py-2 border-b border-gray-300">Broj Pokusaja</th>
            <th class="px-4 py-2 border-b border-gray-300">ESBP</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ishod of pretragaIspita" class="hover:bg-gray-50">
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.predmet.naziv }}</td>
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.bodovi }}</td>
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.brojPokusaja }}</td>
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.predmet.esbp}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Svi ishodi -->
    <div *ngIf="pretragaIspita.length === 0">
      <h2 class="text-xl font-semibold mb-2">Svi Ishodi Ispita</h2>
      <table class="min-w-full border border-gray-300 rounded-lg shadow-md bg-white mb-8">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-4 py-2 border-b border-gray-300">Predmet Naziv</th>
            <th class="px-4 py-2 border-b border-gray-300">Bodovi</th>
            <th class="px-4 py-2 border-b border-gray-300">Broj Pokusaja</th>
            <th class="px-4 py-2 border-b border-gray-300">ESBP</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ishod of ishodLista" class="hover:bg-gray-50">
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.predmet.naziv }}</td>
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.bodovi }}</td>
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.brojPokusaja }}</td>
            <td class="px-4 py-2 border-b border-gray-300">{{ ishod.predmet.esbp}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
